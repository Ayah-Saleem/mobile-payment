<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vending Machine Display</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body { box-sizing: border-box; margin:0; padding:0; font-family:'Arial', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); display:flex; justify-content:center; align-items:center; height:100vh; }
    * { box-sizing: border-box; }
    .machine-screen { width:90%; max-width:800px; background: linear-gradient(135deg,#0f3460 0%,#16213e 100%); border-radius:30px; padding:40px; box-shadow:0 30px 80px rgba(0,0,0,0.6); border:8px solid #e94560; }
    .machine-header { text-align:center; margin-bottom:40px; padding-bottom:30px; border-bottom:3px solid rgba(233,69,96,0.3); }
    .machine-title { font-size:48px; font-weight:bold; color:#e94560; margin:0 0 10px 0; text-shadow:0 0 20px rgba(233,69,96,0.5); }
    .machine-info { font-size:18px; color:#a0a0a0; margin:5px 0; }
    .display-area { background:#000; border-radius:20px; padding:50px; min-height:500px; display:flex; flex-direction:column; align-items:center; justify-content:center; border:4px solid #1a1a2e; position:relative; overflow:hidden; }
    .display-area::before { content:''; position:absolute; top:0; left:0; right:0; bottom:0; background:radial-gradient(circle at center, rgba(233,69,96,0.05) 0%, transparent 70%); pointer-events:none; }
    .state-badge { background: linear-gradient(135deg,#e94560 0%,#d63447 100%); color:white; padding:15px 40px; border-radius:50px; font-size:20px; font-weight:bold; margin-bottom:30px; box-shadow:0 10px 30px rgba(233,69,96,0.4); animation: glow 2s infinite; position:relative; z-index:1; }
    @keyframes glow { 0%,100% { box-shadow:0 10px 30px rgba(233,69,96,0.4); } 50% { box-shadow:0 15px 40px rgba(233,69,96,0.8); } }
    .qr-display { text-align:center; animation:slideIn 0.5s; position:relative; z-index:1; }
    @keyframes slideIn { from { transform: translateY(30px); opacity:0; } to { transform:translateY(0); opacity:1; } }
    .qr-title { font-size:32px; font-weight:bold; color:#e94560; margin-bottom:25px; }
    .qr-code-container { width:320px; height:320px; background:white; border-radius:20px; padding:20px; margin:0 auto 30px; display:flex; justify-content:center; align-items:center; box-shadow:0 20px 50px rgba(233,69,96,0.3); }
    #qrcode { display:flex; justify-content:center; align-items:center; }
    #qrcode img { display:block; margin:0 auto; border-radius:10px; }
    .qr-instruction { font-size:24px; color:#fff; margin-bottom:10px; font-weight:bold; }
    .qr-subtext { font-size:18px; color:#a0a0a0; }
  </style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>
<body>
<div class="machine-screen">
  <header class="machine-header">
    <h1 class="machine-title" id="machineTitle">Vending Machine</h1>
    <p class="machine-info" id="machineId">Machine ID: VM-001</p>
    <p class="machine-info" id="machineLocation">Location: Main Building</p>
  </header>
  <main class="display-area" id="displayArea">
    <div class="qr-display">
      <div class="state-badge" id="statusBadge">ğŸ”µ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</div>
      <div class="qr-title">Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø¯ÙØ¹</div>
      <div class="qr-code-container"><div id="qrcode"></div></div>
      <div class="qr-instruction">ğŸ“± Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù‡Ø§ØªÙÙƒ Ù„Ù„Ø¨Ø¯Ø¡</div>
      <div class="qr-subtext">Scan QR code to start payment</div>
    </div>
  </main>
</div>
<script>
  const MACHINE_ID = 'VM-001';
  let qrGenerated = false;

  function generateQRCode() {
    if (qrGenerated) return;
    const qrcodeContainer = document.getElementById('qrcode');
    qrcodeContainer.innerHTML = '';
    new QRCode(qrcodeContainer, { text: MACHINE_ID, width:280, height:280, colorDark:"#000", colorLight:"#fff", correctLevel: QRCode.CorrectLevel.H });
    qrGenerated = true;
  }

  document.addEventListener('DOMContentLoaded', () => {
    setTimeout(generateQRCode, 500);
  });
</script>
</body>
</html>
